# PixiShelf 环境配置模板
# ===========================================
# 配置说明：复制此文件为 .env 并根据需要修改配置值
# ===========================================

# ===========================================
# Docker Compose 配置 (用于容器编排)
# ===========================================

# Docker 镜像配置
DOCKER_REGISTRY=ghcr.io
DOCKER_USERNAME=your-github-username
IMAGE_NAME=pixishelf
IMAGE_TAG=latest

# 数据库容器配置
POSTGRES_USER=pixishelf
POSTGRES_PASSWORD=password
POSTGRES_DB=pixishelf

# 文件路径挂载 (宿主机路径)
# 开发环境示例: /path/to/your/artwork/directory
# 生产环境 Linux/macOS 示例: /home/user/artwork
# 生产环境 Windows 示例: D:\artwork
SCAN_PATH=/path/to/your/artwork/directory

# ===========================================
# API 服务器配置 (用于应用程序)
# ===========================================

# 应用基础配置
NODE_ENV=development
APP_NAME=PixiShelf API
APP_VERSION=1.0.0

# 数据库连接配置
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@localhost:5432/${POSTGRES_DB}?connection_limit=20&pool_timeout=20
DATABASE_CONNECTION_LIMIT=20
DATABASE_CONNECTION_TIMEOUT=30000
DATABASE_QUERY_TIMEOUT=60000
DATABASE_ENABLE_QUERY_LOGGING=false

# 服务器配置
PORT=3002
HOST=0.0.0.0
ENABLE_CORS=true
BODY_LIMIT=10mb
ENABLE_REQUEST_LOGGING=true

# 认证配置
JWT_SECRET=your-very-secure-jwt-secret-key-here-at-least-32-characters
JWT_EXPIRES_IN=7d
ENABLE_AUTH=false
BCRYPT_ROUNDS=12
INIT_ADMIN_USERNAME=admin
INIT_ADMIN_PASSWORD=admin123

# 扫描器配置
SCANNER_ENABLE_OPTIMIZATIONS=true
SCANNER_MAX_CONCURRENCY=8
SCANNER_BATCH_SIZE=500
SCANNER_CACHE_SIZE_LIMIT=10000
SCANNER_ENABLE_PERFORMANCE_LOGGING=false
SCANNER_PERFORMANCE_LOG_INTERVAL=5000

# 日志配置
LOG_LEVEL=info
LOG_ENABLE_FILE_LOGGING=false
LOG_FILE_PATH=
LOG_ENABLE_STRUCTURED_LOGGING=true
LOG_FORMAT=pretty

# 监控配置
MONITORING_ENABLED=false
MONITORING_METRICS_PORT=
MONITORING_HEALTH_CHECK_INTERVAL=30000

# 告警阈值配置
ALERT_THRESHOLD_SCAN_TIME_MS=300000
ALERT_THRESHOLD_MEMORY_USAGE_MB=1024
ALERT_THRESHOLD_ERROR_RATE=0.05
ALERT_THRESHOLD_CACHE_HIT_RATE=0.7
ALERT_THRESHOLD_CONCURRENCY_UTILIZATION=0.8

# ===========================================
# 前端构建配置 (可选)
# ===========================================

# API 基础 URL (用于前端构建)
# 开发环境: http://localhost:3002
# 生产环境: https://yourdomain.com 或 http://your-server-ip:3002
VITE_API_URL=http://localhost:3002

# ===========================================
# 生产环境建议配置
# ===========================================
# 生产环境时，建议修改以下配置：
# NODE_ENV=production
# LOG_LEVEL=warn
# LOG_ENABLE_FILE_LOGGING=true
# LOG_FILE_PATH=/var/log/pixishelf/app.log
# LOG_FORMAT=json
# MONITORING_ENABLED=true
# MONITORING_METRICS_PORT=9090
# SCANNER_ENABLE_PERFORMANCE_LOGGING=true
# DATABASE_CONNECTION_LIMIT=50
# ENABLE_REQUEST_LOGGING=false
# POSTGRES_PASSWORD=your-secure-production-password
# JWT_SECRET=your-secure-production-jwt-secret
# INIT_ADMIN_PASSWORD=your-secure-admin-password

