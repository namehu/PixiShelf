1. 严格分层 (禁跨层调用)UI 层 (App/Comp): 负责渲染与交互。仅允许调用 tRPC (读) 或 Actions (写)。接口层 (Actions/Server): 负责权限、Zod 校验、异常转换。禁止包含业务逻辑，仅作为 Service 的转发器。业务层 (Services): 核心逻辑区。处理事务、复杂计算及 DTO 转换。数据层 (Prisma/DAO): 负责 DB 交互。简单操作用 Prisma，复杂 SQL 封装于 DAO。2. 目录职责路径核心职责规范要求src/actions写操作 (Mutation)next-safe-action 包装 + Zod 校验。src/server读操作 (Query)tRPC 定义，捕获 Service 异常转 TRPCError。src/services业务领域逻辑接收 DTO，返回 Plain Object。src/schemas协议定义统一存放 API/DB 的 Zod Schema 及其推导类型。src/lib工具单例prisma, logger, safe-action 客户端。3. 核心开发守则命名规范:文件/目录：kebab-case (小写短横线)组件/类型：PascalCase变量/函数：camelCase注释：必须使用中文。Actions: 必须使用 authActionClient 确保安全性。数据库: 必须参考 DATABASE_DESIGN.md。Schema 变更后必须执行迁移。异常处理: 业务错误在 Service 抛出，接口层负责将其转化为用户友好的格式。
